<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ëŒ€ê¸°ì „ë ¥ ê³„ì‚°</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
    }
    /* í—¤ë” ì‹œì‘ */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px 30px;
      background-color: #f8f8f8;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .logo-site {
      display: flex;
      align-items: center;
    }
    /* ë‚´ë¹„ ë¡œê³  */
    #header_logo {
      width: 40px;
    }

    .site-name {
      font-size: 1.7rem;
      font-weight: bold;
    }

    nav {
      margin-left: 10px; /* ì‚¬ì´íŠ¸ëª…ê³¼ ë©”ë‰´ ì‚¬ì´ ê°„ê²© */
    }

    .menu {
      display: flex;
      gap: 60px;
      margin-right: 120px;
    }
    /* ë‚´ë¹„ ë©”ë‰´ ë§í¬ */
    .menu a {
      text-decoration: none;
      color: #333;
      font-size: 1.3rem;
      transition: color 0.3s;
      font-weight: bold;
    }
    /* ë‚´ë¹„ ë©”ë‰´ ì»¤ì„œ íš¨ê³¼ */
    .menu a:hover {
      color: #2B8122;
    }

    @media (max-width: 768px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }

      nav {
        margin-left: 0;
        margin-top: 10px;
      }

      .menu {
        flex-direction: column;
        gap: 10px;
      }
    }
    /* main ì‹œì‘*/
    main {
        margin-left: 50px;
        margin-right: 50px;
    }
    .title{
        margin-top: 40px; /* í—¤ë”ì™€ì˜ ê°„ê²© ì¶”ê°€ */
        margin-left: 100px;
        margin-right: 100px;
    }
    .main-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .page-title {
        font-size: 2.5rem;
        font-weight: bold;
        margin: 0;
    }

    /* ì•„ì´ì½˜ ì¶”ê°€ ì‹œ í¬ê¸° ì¡°ì ˆì´ë‚˜ ì—¬ë°± ì¡°ì ˆ ê°€ëŠ¥ */
    .icon-area img {
        cursor: pointer;
        transition: color 0.3s;
        width: 100px;
    }
    /* íƒ€ì´í‹€ ì œëª© ê¸€ì”¨ ìƒ‰ ë³€ê²½ */
    .highlight {
    color: #218621;
    }
    /* ì‚¬ìš©ì ì œí’ˆ ì„ íƒ/ì…ë ¥ ë¶€ë¶„ */
    .choice-section {
        background-color: #f0fce8;
        padding: 30px;
        margin: 40px 80px;
        margin-left: 100px;
        margin-right: 100px;
        border-radius: 15px;
        box-shadow: 0 0 10px rgba(0,0,0,0.05);
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .choice-box {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 30px;
    }

    .device-select,
    .time-input,
    .unit-input {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-size: 1rem;
    }

    .remove-btn,
    .add-btn {
        background-color: transparent;
        font-size: 1.5rem;
        border: none;
        cursor: pointer;
    }
    .add-btn img {
        width: 30px;
    }
    .remove-btn:hover,
    .add-btn:hover {
        transform: scale(1.1); /* ì•½ê°„ í™•ëŒ€ íš¨ê³¼ */
    }
    .action-buttons {
        display: flex;
        gap: 20px;
        margin-top: 80px;
    }
    /* ê³„ì‚° ë²„íŠ¼ */
    .calc-btn {
        padding: 15px 30px;
        font-size: 1.2rem;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        background-color: #b5e7b3;
        transition: background-color 0.3s;
    }
    /* ì´ˆê¸°í™” ë²„íŠ¼ */
    .reset-btn {
        padding: 15px 30px;
        font-size: 1.2rem;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        background-color: #82d87e;
        transition: background-color 0.3s;
    }

    .calc-btn:hover {
        background-color: #95d693;
    }

    .reset-btn:hover {
        background-color: #6ac465;
    }
    /* ê²°ê³¼ ì¶œë ¥ ë¶€ë¶„ */
    #result-section {
        margin: 40px auto;
        padding: 30px;
        margin: 40px 80px;
        margin-left: 100px;
        margin-right: 100px;
        box-shadow: 0 0 10px rgba(0,0,0,0.05);
        border: 3px solid #B3D88E;  
        border-radius: 15px;
        /* background-color: #f8fff5; */
        background-color: white;
    }

    .result-box {
        display: flex;
        justify-content: center;
        align-items: stretch;
        text-align: center;
        border-bottom: 3px solid #d4eac7; /* ì¤‘ê°„ ì„  */
        padding-bottom: 20px;
        flex-wrap: nowrap;
    }

    .result-item {
        flex: 1 1 180px;
        margin: 10px;
    }

    .result-item img {
        width: 80px;
        margin-bottom: 10px;
    }

    .result-item span {
        font-weight: bold;
        font-size: 1.2rem;
    }
    .result-item p {
        font-size: 20px;
    }

    #power-saved,
    #co2-reduced,
    #money-saved,
    #total-time,
    #avg-time {
        font-size: 30px;
    }
    .divider {
        width: 3px;
        height: 250px; /* ì„¸ë¡œì„  ê¸¸ì´ (ì „ì²´ ë†’ì´ì˜ 60%) */
        background-color: #d4eac7;
        align-self: center; /* ìˆ˜ì§ ê°€ìš´ë° ì •ë ¬ */
    }

    #power-saved { color: blue; }
    #co2-reduced { color: red; }
    #money-saved { color: orange; }
    #tree-count { color: green; }

    /* ë‚˜ë¬´ ê²°ê³¼ ì¶œë ¥ ë¶€ë¶„ */
    .tree-result {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 30px;
    }
    /* ë‚˜ë¬´ ê²°ê³¼ ì´ë¯¸ì§€ */
    .tree-result img {
        width: 120px;
        margin-bottom: 10px;
        margin-right: 20px;
    }
    /* ë‚˜ë¬´ ê²°ê³¼ í…ìŠ¤íŠ¸ */
    .tree-text {
        display: flex;
        flex-direction: column; /* ìˆ˜ì§ ì •ë ¬ */
        justify-content: center; /* ìˆ˜ì§ ê°€ìš´ë° ì •ë ¬ */
        font-size: 20px;
        text-align: center;
    }
    /* ë‚˜ë¬´ ê²°ê³¼ í…ìŠ¤íŠ¸ (ìˆ«ì) */
    #tree-count {
        color: green;
        font-weight: bold;
        font-size: 30px;
    }
	/* ===== í‘¸í„° ===== */
		footer {
	    text-align: center;
	    padding: 8px 0;
	    font-size: 0.85rem;
	    color: #666;
	    background-color: #f8f8f8;
	    width: 100%;
	    margin-top: auto;
	    box-shadow: 0 3px 5px rgba(0, 0, 0, 0.8);
	}		
  </style>
</head>
<body>
<!-- í—¤ë” ì‹œì‘ -->
<header>
  <div class="logo-site">
    <!-- ë‚´ë¹„ ë¡œê³  -->
	<a href="/" style="display: flex; align-items: center; text-decoration: none; color: inherit;">
	    <div class="logo"><img src="./icon/ë©”ì¸ë¡œê³ _ë°°ê²½íˆ¬ëª…í™”.png" id="header_logo"></div>
	    <!-- ë‚´ë¹„ ì‚¬ì´íŠ¸(í”„ë¡œì íŠ¸) ì´ë¦„ -->
	    <div class="site-name">A.P.T</div>
	</a>
  </div>
  <nav>
    <!-- ë‚´ë¹„ ë©”ë‰´ -->
    <div class="menu">
      <a href="calculation">ëŒ€ê¸°ì „ë ¥ ê³„ì‚°</a>
      <a href="/dashboard">ì „ë ¥ ì‚¬ìš©ëŸ‰ í†µê³„</a>
      <a href="/feeCompare">ì „ë ¥ ì‚¬ìš©ëŸ‰ ë¹„êµ</a>
      <a href="/product">ê°€ì „ ì œí’ˆ ì¶”ì²œ</a>
    </div>
  </nav>
</header>
<!-- í—¤ë” ë -->
<main>
    <!-- í˜ì´ì§€ ì œëª©+ì•„ì´ì½˜ ì‹œì‘ -->
    <section class="title">
        <div class="main-header">
            <h1 class="page-title">
                <span class="highlight">ëŒ€ê¸° ì „ë ¥</span> ê³„ì‚° <br>
                ì–¼ë§ˆë‚˜ ì•„ê¼ˆì„ê¹Œìš”?
              </h1>
            <div class="icon-area">
              <!-- ì•„ì´ì½˜ ì˜ˆì‹œ: Font Awesome ì•„ì´ì½˜ ë˜ëŠ” SVG ë“± ì‚¬ìš© ê°€ëŠ¥ -->
              <img class="fa-solid fa-gear" src="./icon/ë©”ì¸_ê³„ì‚°.png">
            </div>
          </div>
    </section>
    <!-- í˜ì´ì§€ ì œëª©+ì•„ì´ì½˜ ë -->
    <!-- ì‚¬ìš©ì ì œí’ˆ ì„ íƒ/ì…ë ¥ ë¶€ë¶„ ì‹œì‘ -->
    <section class="choice-section">
      <!-- ì—¬ëŸ¬ ê°œì˜ choice-box ë‹´ì„ ê³µê°„ -->
       <div id="choice-container">
        <div class="choice-box">
        <!-- ì œí’ˆ ì¢…ë¥˜ ì„ íƒ -->
          <select class="device-select">
           	  <option value="TV">TV</option>
			  <option value="ì„¸íƒ‘ë°•ìŠ¤">ì„¸íƒ‘ë°•ìŠ¤</option>
			  <option value="ì¸ë²„í„° ìŠ¤íƒ ë“œ">ì¸ë²„í„° ìŠ¤íƒ ë“œ</option>
			  <option value="ì»´í“¨í„°">ì»´í“¨í„°</option>
			  <option value="ì¸í„°ë„·ëª¨ë€">ì¸í„°ë„·ëª¨ë€</option>
			  <option value="ì¸í„°ë„·ì „í™”ê¸°">ì¸í„°ë„·ì „í™”ê¸°</option>
			  <option value="ë¹„ë””ì˜¤">ë¹„ë””ì˜¤</option>
			  <option value="DVD">DVD</option>
			  <option value="ì˜¤ë””ì˜¤ ìŠ¤í”¼ì»¤">ì˜¤ë””ì˜¤ ìŠ¤í”¼ì»¤</option>
			  <option value="ì˜¤ë””ì˜¤(ì»´í¬ë„ŒíŠ¸)">ì˜¤ë””ì˜¤(ì»´í¬ë„ŒíŠ¸)</option>
			  <option value="ìœ ë¬´ì„  ê³µìœ ê¸°">ìœ ë¬´ì„  ê³µìœ ê¸°</option>
			  <option value="ì „ìí”¼ì•„ë…¸">ì „ìí”¼ì•„ë…¸</option>
			  <option value="í”„ë¦°í„°">í”„ë¦°í„°</option>
			  <option value="í™ˆì‹œì–´í„°">í™ˆì‹œì–´í„°</option>
			  <option value="ì—ì–´ì»¨(ìŠ¤íƒ ë“œí˜•)">ì—ì–´ì»¨(ìŠ¤íƒ ë“œí˜•)</option>
			  <option value="ì„ í’ê¸°">ì„ í’ê¸°</option>
			  <option value="ì „ê¸°ë§¤íŠ¸(ì¥íŒ)">ì „ê¸°ë§¤íŠ¸(ì¥íŒ)</option>
			  <option value="ì „ê¸°ë°¥ì†¥">ì „ê¸°ë°¥ì†¥</option>
			  <option value="ì „ìë ˆì¸ì§€">ì „ìë ˆì¸ì§€</option>
			  <option value="ë³´ì¼ëŸ¬">ë³´ì¼ëŸ¬</option>
			  <option value="íœ´ëŒ€í° ì¶©ì „ê¸°">íœ´ëŒ€í° ì¶©ì „ê¸°</option>
			  <option value="ì¹´ë©”ë¼ ì¶©ì „ê¸°">ì¹´ë©”ë¼ ì¶©ì „ê¸°</option>
          </select>
          <!-- ì‹œê°„ ì…ë ¥ -->
          <input type="text" class="time-input" /> ì‹œê°„
          <!-- ì¼ ì…ë ¥ -->
          <input type="text" class="unit-input" /> ì¼
          <!-- ì‚­ì œ ë²„íŠ¼ -->
          <button class="remove-btn">âŒ</button>
        </div>
        </div>
        <!-- í”ŒëŸ¬ìŠ¤(ì¶”ê°€) ë²„íŠ¼ -->
        <button class="add-btn"><img src="./icon/ëŒ€ê¸°ì „ë ¥ê³„ì‚°_í”ŒëŸ¬ìŠ¤.png"></button>
        <!-- ê³„ì‚°, ì´ˆê¸°í™” ë²„íŠ¼ -->
        <div class="action-buttons">
          <button class="calc-btn">ê³„ì‚°í•˜ê¸°</button>
          <button class="reset-btn">ì´ˆê¸°í™”</button>
        </div>
      </section>
      <!-- ì‚¬ìš©ì ì œí’ˆ ì„ íƒ/ì…ë ¥ ë¶€ë¶„ ë -->
      <!-- ê²°ê³¼ ì¶œë ¥ ë¶€ë¶„ ì‹œì‘-->
      <section id="result-section">
        <div class="result-box">
          <div class="result-item">
            <img src="./icon/ëŒ€ê¸°ì „ë ¥ê³„ì‚°_ì½˜ì„¼íŠ¸.png" alt="ì „ë ¥ ì•„ì´ì½˜" />
            <p><strong>ê°ì¶•ëœ ì „ë ¥ëŸ‰</strong></p>
            <p><span id="power-saved">0</span> kWh</p>
          </div>
          <div class="divider"></div> <!-- ì„¸ë¡œì„  -->
          <div class="result-item">
            <img src="./icon/ëŒ€ê¸°ì „ë ¥ê³„ì‚°_íƒ„ì†Œ.png" alt="íƒ„ì†Œ ì•„ì´ì½˜" />
            <p><strong>ê°ì¶•ëŸ‰ ê²°ê³¼</strong></p>
            <p><span id="co2-reduced">0</span> kgCOâ‚‚</p>
          </div>
          <div class="divider"></div> <!-- ì„¸ë¡œì„  -->
          <div class="result-item">
            <img src="./icon/ëŒ€ê¸°ì „ë ¥ê³„ì‚°_ìš”ê¸ˆ.png" alt="ìš”ê¸ˆ ì•„ì´ì½˜" />
            <p><strong>ì ˆì•½ëœ ìš”ê¸ˆ</strong></p>
            <p><span id="money-saved">0</span> ì›</p>
          </div>
          <div class="divider"></div> <!-- ì„¸ë¡œì„  -->
          <div class="result-item">
            <p id="time-box"><strong>ì´ ì‹œê°„:</strong> <span id="total-time">0</span> ì‹œê°„</p>
            <p><strong>í•˜ë£¨ í‰ê·  ì‹œê°„:</strong> <span id="avg-time">0</span> ì‹œê°„</p>
          </div>
        </div>
        <!-- ë‚˜ë¬´ -->
        <div class="tree-result">
          <img src="./icon/ëŒ€ê¸°ì „ë ¥ê³„ì‚°_ì§€êµ¬.png" alt="ì§€êµ¬ ì´ë¯¸ì§€" />
          <div class="tree-text">
            <p><strong>ë‚˜ë¬´ì‹¬ê¸°</strong></p>
            <p><span id="tree-count">0</span>ê·¸ë£¨ íš¨ê³¼</p>
          </div> <!-- ì•ˆ ë‹«í˜€ìˆì–´ì„œ ìˆ˜ì •í•¨ -->
         </div>
      </section>
      <!-- ê²°ê³¼ ì¶œë ¥ ë¶€ë¶„ ë-->      
</main>
<!-- í‘¸í„° -->
    <footer>
        <p>Â© 2025 A.P.T All rights reserved.</p>
        <p>Made with ğŸ–¥ï¸ by E.F</p>
    </footer>
<script>
//ğŸŒ± ì „ì—­ ë°ì´í„°
const devicePower = {
	  'TV': 1.27,
	  'ì„¸íƒ‘ë°•ìŠ¤': 12.27,
	  'ì¸ë²„í„° ìŠ¤íƒ ë“œ': 0.6,
	  'ì»´í“¨í„°': 2.62,
	  'ì¸í„°ë„·ëª¨ë€': 5.95,
	  'ì¸í„°ë„·ì „í™”ê¸°': 0.2,
	  'ë¹„ë””ì˜¤': 4.93,
	  'DVD': 3.72,
	  'ì˜¤ë””ì˜¤ ìŠ¤í”¼ì»¤': 5.6,
	  'ì˜¤ë””ì˜¤(ì»´í¬ë„ŒíŠ¸)': 4.42,
	  'ìœ ë¬´ì„  ê³µìœ ê¸°': 4.03,
	  'ì „ìí”¼ì•„ë…¸': 0.48,
	  'í”„ë¦°í„°': 2.61,
	  'í™ˆì‹œì–´í„°': 5.1,
	  'ì—ì–´ì»¨(ìŠ¤íƒ ë“œí˜•)': 5.81,
	  'ì„ í’ê¸°': 0.22,
	  'ì „ê¸°ë§¤íŠ¸(ì¥íŒ)': 0.59,
	  'ì „ê¸°ë°¥ì†¥': 3.47,
	  'ì „ìë ˆì¸ì§€': 2.19,
	  'ë³´ì¼ëŸ¬': 5.81,
	  'íœ´ëŒ€í° ì¶©ì „ê¸°': 0.26,
	  'ì¹´ë©”ë¼ ì¶©ì „ê¸°': 0.22
	};
	
	// CO2 ë°°ì¶œëŸ‰ (ë‹¨ìœ„: kgCO2)
	const co2Emissions = {
	  'TV': 0.001,
	  'ì„¸íƒ‘ë°•ìŠ¤': 0.005,
	  'ì¸ë²„í„° ìŠ¤íƒ ë“œ': 0.0005,
	  'ì»´í“¨í„°': 0.0006,
	  'ì¸í„°ë„·ëª¨ë€': 0.001,
	  'ì¸í„°ë„·ì „í™”ê¸°': 0.0001,
	  'ë¹„ë””ì˜¤': 0.002,
	  'DVD': 0.002,
	  'ì˜¤ë””ì˜¤ ìŠ¤í”¼ì»¤': 0.002,
	  'ì˜¤ë””ì˜¤(ì»´í¬ë„ŒíŠ¸)': 0.0015,
	  'ìœ ë¬´ì„  ê³µìœ ê¸°': 0.002,
	  'ì „ìí”¼ì•„ë…¸': 0.0001,
	  'í”„ë¦°í„°': 0.0005,
	  'í™ˆì‹œì–´í„°': 0.003,
	  'ì—ì–´ì»¨(ìŠ¤íƒ ë“œí˜•)': 0.005,
	  'ì„ í’ê¸°': 0.0001,
	  'ì „ê¸°ë§¤íŠ¸(ì¥íŒ)': 0.0007,
	  'ì „ê¸°ë°¥ì†¥': 0.003,
	  'ì „ìë ˆì¸ì§€': 0.0025,
	  'ë³´ì¼ëŸ¬': 0.005,
	  'íœ´ëŒ€í° ì¶©ì „ê¸°': 0.0001,
	  'ì¹´ë©”ë¼ ì¶©ì „ê¸°': 0.0001
	};

  document.addEventListener('DOMContentLoaded', function () {
    const addBtn = document.querySelector('.add-btn');
    const container = document.getElementById('choice-container');

    // â• ì¶”ê°€ ë²„íŠ¼
    addBtn.addEventListener('click', () => {
      const firstBox = container.querySelector('.choice-box');
      const newBox = firstBox.cloneNode(true);
      newBox.querySelector('.time-input').value = '';
      newBox.querySelector('.unit-input').value = '';
      container.appendChild(newBox);
    });

    // âŒ ì‚­ì œ ë²„íŠ¼ (ë™ì  ìš”ì†Œ í¬í•¨)
    container.addEventListener('click', function (e) {
      if (e.target.classList.contains('remove-btn')) {
        const allBoxes = container.querySelectorAll('.choice-box');
        if (allBoxes.length > 1) {
          e.target.closest('.choice-box').remove();
        } else {
          alert('ìµœì†Œ í•œ ê°œëŠ” ë‚¨ê²¨ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.');
        }
      }
    });

    // ğŸ§¹ ì´ˆê¸°í™” ë²„íŠ¼
    document.querySelector('.reset-btn').addEventListener('click', () => {
      location.reload();
    });

 // ğŸ§® ê³„ì‚° ë²„íŠ¼
    document.querySelector('.calc-btn').addEventListener('click', function () {
      console.log("âœ… ê³„ì‚° ë²„íŠ¼ ëˆŒë¦¼");

      let totalPower = 0;
      let totalCO2 = 0;
      let totalMoney = 0;
      let totalTime = 0;
      let totalTrees = 0;
      let validBoxCount = 0;

      const boxes = document.querySelectorAll('.choice-box');
      boxes.forEach((box, idx) => {
        const device = box.querySelector('.device-select')?.value;
        const hours = parseInt(box.querySelector('.time-input')?.value);
        const days = parseInt(box.querySelector('.unit-input')?.value);

        console.log(`ğŸ” [${idx}] device: ${device}, hours: ${hours}, days: ${days}`);

        if (!hours || !days || hours <= 0 || days <= 0 || !devicePower[device] || !co2Emissions[device]) {
          console.log(`âš ï¸ [${idx}] ì œì™¸ë¨`);
          return;
        }

        console.log(`âœ… [${idx}] í¬í•¨ë¨ â†’ ê³„ì‚°í•¨`);

        const powerUsed = (devicePower[device] * hours * days) * 0.001;
        const co2Used = (co2Emissions[device] * hours * days);
        const moneySaved = powerUsed * 100;
        const timeUsed = hours * days;
        const treesPlanted = Math.floor(co2Used / 1000);

        totalPower += powerUsed;
        totalCO2 += co2Used;
        totalMoney += moneySaved;
        totalTime += timeUsed;
        totalTrees += treesPlanted;
        validBoxCount++;
      });

      document.getElementById('power-saved').innerText = totalPower.toFixed(2);
      document.getElementById('co2-reduced').innerText = totalCO2.toFixed(2);
      document.getElementById('money-saved').innerText = totalMoney.toFixed(2);
      document.getElementById('total-time').innerText = totalTime;
      document.getElementById('avg-time').innerText = validBoxCount > 0 ? (totalTime / validBoxCount).toFixed(2) : '0';
      document.getElementById('tree-count').innerText = totalTrees;
    });
  });
</script>
</body>
</html>
